# ğŸ“Š Trading Custody - äº¤æ˜“æ‰˜ç®¡ç®¡ç†å¹³å°

<div align="center">

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![React](https://img.shields.io/badge/React-18-61dafb.svg)
![Node](https://img.shields.io/badge/Node-18+-339933.svg)
![Docker](https://img.shields.io/badge/Docker-Ready-2496ed.svg)

**ä¸€ä¸ªç°ä»£åŒ–çš„äº¤æ˜“èµ„é‡‘æ‰˜ç®¡ä¸æŒä»“ç®¡ç†ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£)

</div>

---

## ğŸ“¸ äº§å“é¢„è§ˆ

<div align="center">
  <img src="docs/screenshots/admin-dashboard.png" alt="ç®¡ç†å‘˜æ§åˆ¶å°" width="800"/>
  <p><i>ç®¡ç†å‘˜æ§åˆ¶å° - ä¸€ç«™å¼ç®¡ç†ç”¨æˆ·ã€èµ„é‡‘å’ŒæŒä»“</i></p>
</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·ç®¡ç†
- **å®‰å…¨è®¤è¯**ï¼šåŸºäº JWT çš„èº«ä»½éªŒè¯æœºåˆ¶ï¼Œæ”¯æŒ Cookie æŒä¹…åŒ–
- **è§’è‰²æƒé™**ï¼šç®¡ç†å‘˜/æ™®é€šç”¨æˆ·åŒè§’è‰²ä½“ç³»ï¼Œç»†ç²’åº¦æƒé™æ§åˆ¶
- **ç”¨æˆ·æ“ä½œ**ï¼šç”¨æˆ·åˆ›å»ºã€ä¿¡æ¯ç®¡ç†ã€å¯†ç ä¿®æ”¹ã€æƒé™åˆ†é…
- **èµ„æºéš”ç¦»**ï¼šæ™®é€šç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„èµ„æºï¼Œç®¡ç†å‘˜å¯ç®¡ç†æ‰€æœ‰ç”¨æˆ·

### ğŸ’° èµ„é‡‘ç®¡ç†
- **ä½™é¢è·Ÿè¸ª**ï¼šå®æ—¶æŸ¥çœ‹ç”¨æˆ·èµ„é‡‘ä½™é¢
- **èµ„é‡‘æ“ä½œ**ï¼šæ”¯æŒåˆå§‹èµ„é‡‘è®¾ç½®ã€èµ„é‡‘è¿½åŠ ã€èµ„é‡‘å–å‡º
- **æ“ä½œæ—¥å¿—**ï¼šå®Œæ•´çš„èµ„é‡‘æµæ°´è®°å½•ï¼Œå¯è¿½æº¯æ¯ä¸€ç¬”èµ„é‡‘å˜åŠ¨
- **å¤šç”¨æˆ·æ”¯æŒ**ï¼šç®¡ç†å‘˜å¯æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰ç”¨æˆ·çš„èµ„é‡‘çŠ¶å†µ

### ğŸ“ˆ æŒä»“ç®¡ç†
- **å¤šèµ„äº§æ”¯æŒ**ï¼šæ”¯æŒè‚¡ç¥¨ã€æœŸè´§ã€åŸºé‡‘ç­‰å¤šç§èµ„äº§ç±»å‹
- **æŒä»“è®°å½•**ï¼šè¯¦ç»†è®°å½•ä¹°å…¥/å–å‡ºæ“ä½œï¼ŒåŒ…æ‹¬ä»·æ ¼ã€æ•°é‡ã€æ—¶é—´ç­‰
- **æ”¶ç›Šè®¡ç®—**ï¼šè‡ªåŠ¨è®¡ç®—æŒä»“ç›ˆäºï¼Œå®æ—¶å±•ç¤ºæŠ•èµ„æ”¶ç›Š
- **ä»·æ ¼åŒæ­¥**ï¼šå®šæ—¶è‡ªåŠ¨åŒæ­¥å¸‚åœºä»·æ ¼æ•°æ®ï¼ˆæ”¯æŒè‚¡ç¥¨å’ŒæœŸè´§ï¼‰
- **æŒä»“åˆ†æ**ï¼šæä¾›æŒä»“æ±‡æ€»å’Œæ”¶ç›Šåˆ†æåŠŸèƒ½

### ğŸš€ ç³»ç»Ÿç‰¹æ€§
- **å“åº”å¼è®¾è®¡**ï¼šåŸºäº Ant Design Mobileï¼Œå®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- **å®æ—¶æ›´æ–°**ï¼šæ•°æ®å®æ—¶åˆ·æ–°ï¼Œç¡®ä¿ä¿¡æ¯å‡†ç¡®æ€§
- **å®šæ—¶ä»»åŠ¡**ï¼šæ”¯æŒ Cron è¡¨è¾¾å¼é…ç½®çš„å®šæ—¶ä»·æ ¼åŒæ­¥ï¼ˆé»˜è®¤æ¯å¤© 17:00ï¼‰
- **æ—¥å¿—è®°å½•**ï¼šå®Œå–„çš„æ—¥å¿—ç³»ç»Ÿï¼Œä¾¿äºé—®é¢˜æ’æŸ¥å’Œå®¡è®¡
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šæä¾›å®Œæ•´çš„ Docker éƒ¨ç½²æ–¹æ¡ˆï¼Œå¼€ç®±å³ç”¨

## ğŸ›  æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šReact 18 - ç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶
- **è·¯ç”±**ï¼šReact Router DOM - å•é¡µåº”ç”¨è·¯ç”±ç®¡ç†
- **UI ç»„ä»¶**ï¼šAnt Design Mobile - ç§»åŠ¨ç«¯ä¼˜å…ˆçš„ UI ç»„ä»¶åº“
- **çŠ¶æ€ç®¡ç†**ï¼šReact Context API - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **HTTP å®¢æˆ·ç«¯**ï¼šåŸºäº Fetch çš„è‡ªå®šä¹‰ API å®¢æˆ·ç«¯
- **æ„å»ºå·¥å…·**ï¼šCreate React App - é›¶é…ç½®å¿«é€Ÿå¼€å‘

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šExpress.js - è½»é‡é«˜æ•ˆçš„ Node.js Web æ¡†æ¶
- **æ•°æ®åº“**ï¼šSQLite - è½»é‡çº§åµŒå…¥å¼æ•°æ®åº“ï¼Œé›¶é…ç½®
- **è®¤è¯**ï¼šJWT + Cookie - å®‰å…¨çš„èº«ä»½éªŒè¯æœºåˆ¶
- **å¯†ç åŠ å¯†**ï¼šBcrypt - è¡Œä¸šæ ‡å‡†çš„å¯†ç å“ˆå¸Œç®—æ³•
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šWinston - å¼ºå¤§çš„æ—¥å¿—è®°å½•å·¥å…·
- **å®šæ—¶ä»»åŠ¡**ï¼šNode Schedule - çµæ´»çš„ä»»åŠ¡è°ƒåº¦
- **æ•°æ®éªŒè¯**ï¼šExpress Validator - è¯·æ±‚æ•°æ®éªŒè¯

### æ¶æ„è®¾è®¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React å‰ç«¯    â”‚ â† Ant Design Mobile UI
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ RESTful API
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Express åç«¯   â”‚ â† JWT è®¤è¯ + ä¸­é—´ä»¶
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â†“         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLite â”‚ â”‚ å®šæ—¶ä»»åŠ¡  â”‚ â† ä»·æ ¼æ•°æ®åŒæ­¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 16+ ï¼ˆæ¨è 18+ï¼‰
- npm æˆ– yarn
- ï¼ˆå¯é€‰ï¼‰Docker å’Œ Docker Compose
- ï¼ˆæ¨èï¼‰PM2 è¿›ç¨‹ç®¡ç†å™¨

### æœ¬åœ°å¼€å‘

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yushukk/trading-custody.git
cd trading-custody
```

#### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š
```env
# æœåŠ¡å™¨é…ç½®
PORT=3001
NODE_ENV=development

# JWT é…ç½®
JWT_SECRET=your-secret-key-here
JWT_EXPIRES_IN=7d

# æ•°æ®åº“é…ç½®
DB_PATH=./database.sqlite

# å®šæ—¶ä»»åŠ¡é…ç½®ï¼ˆCron è¡¨è¾¾å¼ï¼‰
PRICE_SYNC_CRON=0 17 * * *  # æ¯å¤© 17:00 æ‰§è¡Œ
```

#### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç«¯å£ 3001ï¼‰
npm run server

# æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£ 3000ï¼‰
npm run client
```

#### 5. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`

**é»˜è®¤ç®¡ç†å‘˜è´¦å·**ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin`ï¼ˆé¦–æ¬¡ç™»å½•åè¯·åŠæ—¶ä¿®æ”¹ï¼‰

## ğŸ“¦ éƒ¨ç½²æ–¹å¼

### æ–¹å¼ä¸€ï¼šä¼ ç»ŸæœåŠ¡å™¨éƒ¨ç½²

**é€‚ç”¨åœºæ™¯**ï¼šä¼ ç»ŸæœåŠ¡å™¨ã€VPSã€æ—  Docker ç¯å¢ƒ

**ç‰¹ç‚¹**ï¼š
- âœ… æ— éœ€ Dockerï¼Œç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ
- âœ… å®Œå…¨æ§åˆ¶è¿›ç¨‹å’Œé…ç½®
- âœ… é€‚åˆä¼ ç»Ÿè¿ç»´ç¯å¢ƒ

#### ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰â­

> ğŸ’¡ **æ— éœ€ä»»ä½•å‰ç½®å‡†å¤‡**ï¼šéƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…æ‰€éœ€çš„ç¯å¢ƒï¼ˆNode.jsã€PM2 ç­‰ï¼‰

æˆ‘ä»¬æä¾›äº†è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒå¤šç§è·å–ä»£ç çš„æ–¹å¼ï¼š

**æ–¹å¼ Aï¼šÃŸå¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼Œæ— éœ€ Gitï¼‰**

ä¸€æ¡å‘½ä»¤å®Œæˆæ‰€æœ‰æ“ä½œï¼Œè‡ªåŠ¨ä¸‹è½½ã€è§£å‹å¹¶éƒ¨ç½²ï¼š

```bash
# ä¸‹è½½å¹¶è¿è¡Œå¿«é€Ÿéƒ¨ç½²è„šæœ¬
wget -O quick-deploy.sh https://raw.githubusercontent.com/yushukk/trading-custody/main/quick-deploy.sh && chmod +x quick-deploy.sh && ./quick-deploy.sh

# æˆ–ä½¿ç”¨ curl
curl -o quick-deploy.sh https://raw.githubusercontent.com/yushukk/trading-custody/main/quick-deploy.sh && chmod +x quick-deploy.sh && ./quick-deploy.sh
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ— éœ€å®‰è£… Git
- âœ… è‡ªåŠ¨ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
- âœ… è‡ªåŠ¨è§£å‹å’Œéƒ¨ç½²
- âœ… ä¸€æ¡å‘½ä»¤æå®šä¸€åˆ‡

---

**æ–¹å¼ Bï¼šä½¿ç”¨ Git å…‹éš†**

é€‚åˆå·²å®‰è£… Git çš„ç¯å¢ƒï¼Œæ–¹ä¾¿åç»­æ›´æ–°ï¼š

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yushukk/trading-custody.git
cd trading-custody

# è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy.sh
./deploy.sh
```

---

**æ–¹å¼ Cï¼šæ‰‹åŠ¨ä¸‹è½½éƒ¨ç½²**

é€‚åˆç½‘ç»œå—é™æˆ–éœ€è¦ç¦»çº¿éƒ¨ç½²çš„åœºæ™¯ï¼š

```bash
# 1. ä¸‹è½½å‹ç¼©åŒ…
wget https://github.com/yushukk/trading-custody/archive/refs/heads/main.zip
# æˆ–ä½¿ç”¨ curl
curl -L https://github.com/yushukk/trading-custody/archive/refs/heads/main.zip -o main.zip

# 2. è§£å‹
unzip main.zip
cd trading-custody-main

# 3. è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy.sh
./deploy.sh
```

> ğŸ’¡ **æç¤º**ï¼šå¦‚æœæœåŠ¡å™¨æ²¡æœ‰å®‰è£… wget æˆ– curlï¼Œå¯ä»¥åœ¨æœ¬åœ°ä¸‹è½½åé€šè¿‡ scp æˆ– FTP ä¸Šä¼ åˆ°æœåŠ¡å™¨

**è„šæœ¬åŠŸèƒ½**
- âœ… è‡ªåŠ¨æ£€æŸ¥ Node.js å’Œ PM2 ç¯å¢ƒ
- âœ… è‡ªåŠ¨å®‰è£…ä¾èµ–
- âœ… è‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡
- âœ… è‡ªåŠ¨ç¼–è¯‘å‰ç«¯
- âœ… ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹
- âœ… è‡ªåŠ¨é…ç½®å¼€æœºè‡ªå¯
- âœ… å¯é€‰ç”Ÿæˆ Nginx é…ç½®æ–‡ä»¶

**é‡è¦æç¤º**
- ğŸ’¡ ç³»ç»Ÿä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆ JWT å¯†é’¥
- âš ï¸ é›†ç¾¤éƒ¨ç½²æ—¶ï¼Œè¯·ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹ä½¿ç”¨ç›¸åŒçš„ JWT å¯†é’¥
- ğŸ“ é›†ç¾¤éƒ¨ç½²æ­¥éª¤ï¼š
  1. åœ¨é¦–ä¸ªèŠ‚ç‚¹è¿è¡Œéƒ¨ç½²è„šæœ¬
  2. å¯åŠ¨åæŸ¥çœ‹ç”Ÿæˆçš„ JWT å¯†é’¥ï¼ˆåœ¨ `.env` æ–‡ä»¶ä¸­ï¼‰
  3. å°†å¯†é’¥å¤åˆ¶åˆ°å…¶ä»–èŠ‚ç‚¹çš„ `.env` æ–‡ä»¶ä¸­
  4. åœ¨å…¶ä»–èŠ‚ç‚¹è¿è¡Œéƒ¨ç½²è„šæœ¬


#### è¿›ç¨‹ç®¡ç†

ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹ï¼š
```bash
# æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs trading-custody-backend

# é‡å¯æœåŠ¡
pm2 restart trading-custody-backend

# åœæ­¢æœåŠ¡
pm2 stop trading-custody-backend

# åˆ é™¤è¿›ç¨‹
pm2 delete trading-custody-backend
```

#### æ›´æ–°éƒ¨ç½²

**æ–¹å¼ Aï¼šä¸€é”®æ›´æ–°ï¼ˆæ¨èï¼Œæ— éœ€ Gitï¼‰**

ä½¿ç”¨å¿«é€Ÿæ›´æ–°è„šæœ¬ï¼Œè‡ªåŠ¨ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å¹¶æ›´æ–°ï¼š

```bash
# ä¸‹è½½å¹¶è¿è¡Œå¿«é€Ÿæ›´æ–°è„šæœ¬
wget -O quick-update.sh https://raw.githubusercontent.com/yushukk/trading-custody/main/quick-update.sh && chmod +x quick-update.sh && ./quick-update.sh

# æˆ–ä½¿ç”¨ curl
curl -o quick-update.sh https://raw.githubusercontent.com/yushukk/trading-custody/main/quick-update.sh && chmod +x quick-update.sh && ./quick-update.sh
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ— éœ€ Git
- âœ… è‡ªåŠ¨å¤‡ä»½å½“å‰ç‰ˆæœ¬
- âœ… è‡ªåŠ¨ä¸‹è½½æœ€æ–°ä»£ç 
- âœ… ä¿ç•™é…ç½®æ–‡ä»¶å’Œæ•°æ®
- âœ… è‡ªåŠ¨é‡å¯æœåŠ¡

---

**æ–¹å¼ Bï¼šä½¿ç”¨ Git æ›´æ–°**

é€‚åˆä½¿ç”¨ Git å…‹éš†çš„éƒ¨ç½²ï¼š

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# é‡æ–°è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy.sh
```

---

**æ–¹å¼ Cï¼šæ‰‹åŠ¨æ›´æ–°**

é€‚åˆéœ€è¦ç²¾ç¡®æ§åˆ¶çš„åœºæ™¯ï¼š

```bash
# 1. å¤‡ä»½å½“å‰ç‰ˆæœ¬
cp -r . ../trading-custody-backup

# 2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
wget https://github.com/yushukk/trading-custody/archive/refs/heads/main.zip
unzip main.zip

# 3. ä¿ç•™é…ç½®å’Œæ•°æ®
cp .env trading-custody-main/
cp -r database.sqlite trading-custody-main/ 2>/dev/null || true

# 4. æ›¿æ¢æ—§ç‰ˆæœ¬
cd trading-custody-main
chmod +x deploy.sh
./deploy.sh
```

---

## ğŸ³ Docker éƒ¨ç½²

### æ–¹å¼äºŒï¼šç”Ÿäº§æœåŠ¡å™¨éƒ¨ç½²ï¼ˆæ¨èï¼‰â­

**é€‚ç”¨åœºæ™¯**ï¼šç”Ÿäº§ç¯å¢ƒã€å®¹å™¨å¹³å°ï¼ˆå¦‚é£ç‰›ï¼‰ã€å¿«é€Ÿéƒ¨ç½²

**ç‰¹ç‚¹**ï¼š
- âœ… ä½¿ç”¨é¢„æ„å»ºçš„ Docker Hub é•œåƒï¼Œæ— éœ€æœ¬åœ°æ„å»º
- âœ… é›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨
- âœ… JWT å¯†é’¥è‡ªåŠ¨ç”Ÿæˆ
- âœ… æ‰€æœ‰é…ç½®éƒ½æœ‰åˆç†çš„é»˜è®¤å€¼

#### å¿«é€Ÿéƒ¨ç½²
```bash
# ä¸‹è½½é…ç½®æ–‡ä»¶
wget https://raw.githubusercontent.com/yushukk/trading-custody/main/docker-compose.simple.yml

# å¯åŠ¨æœåŠ¡
docker-compose -f docker-compose.simple.yml up -d
```

æœåŠ¡å°†åœ¨ä»¥ä¸‹ç«¯å£å¯åŠ¨ï¼š
- å‰ç«¯ï¼š`http://localhost:80`
- åç«¯ APIï¼š`http://localhost:3001`ï¼ˆå®¹å™¨å†…éƒ¨ï¼Œä¸å¯¹å¤–æš´éœ²ï¼‰

#### æŸ¥çœ‹æ—¥å¿—
```bash
docker-compose -f docker-compose.simple.yml logs -f
```

#### åœæ­¢æœåŠ¡
```bash
docker-compose -f docker-compose.simple.yml down
```

#### è‡ªå®šä¹‰é…ç½®ï¼ˆå¯é€‰ï¼‰
å¦‚éœ€è‡ªå®šä¹‰é…ç½®ï¼Œå¯ä»¥ç¼–è¾‘ `docker-compose.simple.yml` æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡ï¼š
```yaml
environment:
  # è‡ªå®šä¹‰ JWT å¯†é’¥ï¼ˆå¯é€‰ï¼Œä¸é…ç½®åˆ™è‡ªåŠ¨ç”Ÿæˆï¼‰
  - JWT_ACCESS_SECRET=your-custom-secret
  
  # ä¿®æ”¹ CORS é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®æ”¹ä¸ºå…·ä½“åŸŸåï¼‰
  - CORS_ORIGIN=https://yourdomain.com
  
  # ä¿®æ”¹ä»·æ ¼åŒæ­¥æ—¶é—´
  - PRICE_SYNC_CRON=0 9,17 * * *  # æ¯å¤© 9:00 å’Œ 17:00
```

### æ–¹å¼ä¸‰ï¼šæœ¬åœ°å¼€å‘éƒ¨ç½²

**é€‚ç”¨åœºæ™¯**ï¼šæœ¬åœ°å¼€å‘ã€éœ€è¦è‡ªå®šä¹‰æ„å»ºã€è°ƒè¯•

**ç‰¹ç‚¹**ï¼š
- âœ… ä»æœ¬åœ°æºç æ„å»ºé•œåƒ
- âœ… æ”¯æŒå®Œå…¨è‡ªå®šä¹‰é…ç½®
- âœ… åç«¯ç«¯å£å¯¹å¤–æš´éœ²ï¼Œæ–¹ä¾¿è°ƒè¯•
- âœ… å¯ä¿®æ”¹æºç åé‡æ–°æ„å»º

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yushukk/trading-custody.git
cd trading-custody

# å¯åŠ¨æœåŠ¡ï¼ˆä¼šè‡ªåŠ¨æ„å»ºé•œåƒï¼‰
sh docker-deploy.sh
```

æœåŠ¡å°†åœ¨ä»¥ä¸‹ç«¯å£å¯åŠ¨ï¼š
- å‰ç«¯ï¼š`http://localhost:3000`
- åç«¯ APIï¼š`http://localhost:3001`


### æ•°æ®æŒä¹…åŒ–

ä¸¤ç§éƒ¨ç½²æ–¹å¼éƒ½é…ç½®äº†æ•°æ®å·æŒ‚è½½ï¼Œæ•°æ®å°†æŒä¹…åŒ–ä¿å­˜ï¼š
- **æ•°æ®åº“**ï¼š`backend-data` å·
- **æ—¥å¿—æ–‡ä»¶**ï¼š`backend-logs` å·

æŸ¥çœ‹æ•°æ®å·ï¼š
```bash
docker volume ls | grep trading-custody
```

å¤‡ä»½æ•°æ®ï¼š
```bash
# å¤‡ä»½æ•°æ®åº“
docker run --rm -v trading-custody_backend-data:/data -v $(pwd):/backup alpine tar czf /backup/database-backup.tar.gz -C /data .

# å¤‡ä»½æ—¥å¿—
docker run --rm -v trading-custody_backend-logs:/logs -v $(pwd):/backup alpine tar czf /backup/logs-backup.tar.gz -C /logs .
```

## ğŸ“š é¡¹ç›®ç»“æ„

```
trading-custody/
â”œâ”€â”€ src/                      # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”œâ”€â”€ api/                 # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ contexts/            # Context çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ styles/              # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ server/                   # åç«¯æºä»£ç 
â”‚   â”œâ”€â”€ controllers/         # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ dao/                 # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ validators/          # æ•°æ®éªŒè¯
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ migrations/          # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ docs/                     # æ–‡æ¡£å’Œæˆªå›¾
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”œâ”€â”€ docker-compose.yml       # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile.backend       # åç«¯ Dockerfile
â”œâ”€â”€ Dockerfile.frontend      # å‰ç«¯ Dockerfile
â””â”€â”€ package.json             # é¡¹ç›®ä¾èµ–
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `PORT` | åç«¯æœåŠ¡ç«¯å£ | `3001` |
| `NODE_ENV` | è¿è¡Œç¯å¢ƒ | `development` |
| `JWT_SECRET` | JWT å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼‰ | - |
| `JWT_EXPIRES_IN` | JWT è¿‡æœŸæ—¶é—´ | `7d` |
| `DB_PATH` | æ•°æ®åº“æ–‡ä»¶è·¯å¾„ | `./database.sqlite` |
| `PRICE_SYNC_CRON` | ä»·æ ¼åŒæ­¥ Cron è¡¨è¾¾å¼ | `0 17 * * *` |

### å®šæ—¶ä»»åŠ¡é…ç½®

ä»·æ ¼åŒæ­¥ä»»åŠ¡ä½¿ç”¨ Cron è¡¨è¾¾å¼é…ç½®ï¼Œæ ¼å¼è¯´æ˜ï¼š
```
* * * * *
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â””â”€ æ˜ŸæœŸå‡  (0-7, 0 å’Œ 7 éƒ½è¡¨ç¤ºå‘¨æ—¥)
â”‚ â”‚ â”‚ â””â”€â”€â”€ æœˆä»½ (1-12)
â”‚ â”‚ â””â”€â”€â”€â”€â”€ æ—¥æœŸ (1-31)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0-23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0-59)
```

ç¤ºä¾‹ï¼š
- `0 17 * * *` - æ¯å¤© 17:00 æ‰§è¡Œ
- `0 */6 * * *` - æ¯ 6 å°æ—¶æ‰§è¡Œä¸€æ¬¡
- `0 9,17 * * 1-5` - å·¥ä½œæ—¥çš„ 9:00 å’Œ 17:00 æ‰§è¡Œ

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šé¦–æ¬¡éƒ¨ç½²åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜é»˜è®¤å¯†ç 
2. **é…ç½®å¼ºå¯†é’¥**ï¼šä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ä½œä¸º `JWT_SECRET`
3. **HTTPS éƒ¨ç½²**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½® HTTPS
4. **å®šæœŸå¤‡ä»½**ï¼šå®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶
5. **æ—¥å¿—ç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸

## ğŸ“– API æ–‡æ¡£

è¯¦ç»†çš„ API æ–‡æ¡£è¯·å‚è€ƒï¼š[API Documentation](docs/api.md)

ä¸»è¦ API ç«¯ç‚¹ï¼š
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/funds/:userId` - è·å–ç”¨æˆ·èµ„é‡‘ä¿¡æ¯
- `POST /api/funds/:userId` - èµ„é‡‘æ“ä½œ
- `GET /api/positions/:userId` - è·å–ç”¨æˆ·æŒä»“
- `POST /api/positions/:userId` - æ·»åŠ æŒä»“è®°å½•

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æº - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Express](https://expressjs.com/) - åç«¯æ¡†æ¶
- [Ant Design Mobile](https://mobile.ant.design/) - UI ç»„ä»¶åº“
- [SQLite](https://www.sqlite.org/) - æ•°æ®åº“

## ğŸ“§ è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼š[https://github.com/yushukk/trading-custody](https://github.com/yushukk/trading-custody)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/yushukk/trading-custody/issues)

---

<div align="center">
  <sub>Built with â¤ï¸ by the Trading Custody Team</sub>
</div>
